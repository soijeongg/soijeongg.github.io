---
layout: post
read_time: true
show_date: true
title: "[node.js] 기술 면접 대비 6. 이벤트 루프"
date: 2024-06-10 15:00:20 -0600
description: "[node.js] 기술 면접 대비 6. 이벤트 루프"
image: https://velog.velcdn.com/images/soijeongg/post/861b129f-0eab-454b-91b9-cc6b95e54919/image.png
tags: 
    - coding
    - diary

author: soi

toc: no # leave empty or erase for no TOC
---
자바스크립트는 싱글스레드여서 한번에 하나의 작업만을 가능하지만 비동기 논블로킹 작업을 통해 메인스레드가 작업을 다른곳에 요청해 실행하고 그 작업이 완료되면 이벤트나 콜백함수를 받아 결과를 실행한다 
이러한 것을 컨트롤하는것이 이벤트루프이다 

콜백큐는 비동기적으로 실행된 콜백함수가 보관되는 영역이다 이런 콜백큐와 콜스택의 상태를 체크하여 콜스택이 빈 상태가 되면 콜백큐에 있는 첫번째 콜백을 콜스택으로 이동시킨다 

- 마이크로테스크큐
프로미스의 then, catch, finally블록등이 대기하는 큐로 콜백큐보다 더 높은 우선순위를 가진다


- 이벤트 큐 작동
콜스택이 비어있는지 확인한후(비어있지 않다면 콜스택이 비어있을때까지 기다린다) 
콜스택이 비어있으면 먼저 마이크로테스크큐를 확인한다 대기중인 작업이 있다면 이 작업을 콜스택으로 옮겨 처리한다 
마이크로테스크큐에 있던 작업들을 모두 실행해 마이크로테스크큐가 비어있게 된다면 이벤트루프는 테스크큐를 확인한다 
이 테스크큐에 대기중인 작업이 있다면 이 작업을 콜스택으로 옮겨 실행한다 



