---
layout: post
read_time: true
show_date: true
title: "aws 공부 https를 ec2에 연결하자"
date: 2024-05-10 15:00:20 -0600
description: "aws 공부 https를 ec2에 연결하자"
image: https://i.pinimg.com/236x/09/3f/6e/093f6ed3ff0b96f50686bd538383ad9c.jpg
tags: 
    - coding
    - diary
    - hh99
author: soi

toc: no # leave empty or erase for no TOC
---

## aws에서 EC2와 https 연결
- http 
서버와 클라이언트가 통신하는데 정해놓은 규약 
http는 특별히 보안이 존재하지 않음
이러한 단점을 보안하기 위해 ssl이라는 보안 계층을 사용하는게 https

### route53에서 도메인 취득
도메인은 가비아나 route53에서 도메인을 취득할 수 있다 
aws의 route53에 들어가 등록된 도메인 부분에 들어가 내가 원하는 도메인을 입력하고 가용성이 사용가능한지 알아본다 

원하는 도메인을 찾고 계산한다 근데 이거 1년씩으로만 사는게 가능한가
구입후 구입 확인 이메일이 오면 확인한다 

### 다른곳에서 등록한 도메인 route53에 연결
가비아에서 도메인을 구입후 aws에 등록한다 
aws의 메인페이지에 있는 호스팅 영역 생성하기에 들어가 도메인 이름을 입력하고 퍼블릭호스팅 영역을 선택한다 

생성된 호스트 영역에는 NS가 만들어져 있다 이걸 도메인 산 곳으로 가 네임서버에 등록해준다 

### route53과 EC2 연결
route53에 만든 호스팅영역에 들어가 레코드를 생성해 값으로 아이피 주소를 입력해준다 

### aws Certificate Manager
aws Certificate Manager에 들어가 인증서를 요청한다 
도메인 입력하는 부분에 내가 산 도메인을 입력해준다 
프론트엔드 백엔드 둘다 도메인 적용하기 위해서는 * (와일드카드)를 붙인다 
아니면 프론트는 베셀에 배포했으면 여기 도메인만 맞춰준다 

### 로드밸런서 적용
ec2 하단에 로드밸런싱 부분에 그룹을 만든다 
포트번호에 사용하는 포트번호를 넣는다 
가용영역을 선택할때는 내가 사용할 인스턴스의 가용영역이 들어있어야 한다 
listeners and router에 http 80과 https 443을 입력하고 받은 인증서를 등록해준다 

